{"ast":null,"code":"var _jsxFileName = \"/home/edison/react_projects/ros-app/src/components/ros-graph.js\";\nimport * as React from 'react';\nimport ROSLIB from 'roslib';\nimport * as RosGraph from './../lib/RosGraph';\nimport NodeGraph from './ros-graph/NodeGraph';\nimport ButtonPanel from './ros-graph/ButtonPanel';\nimport RosGraphView from './../lib/RosGraphView';\nimport NodeList from './ros-graph/NodeList';\nimport Roboboat from './Roboboat'; //import \"../../node_modules/react-grid-layout/css/styles.css\";\n//import \"../node_modules/react-resizable/css/styles.css\";\n\nimport './../styles/Rosgraph.css'; //Cuando se activa funcion en App.js, se utiliza funcion Props para tomar el valor de ROS\n\nclass Rosgraph extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      autoExpand: true,\n      layouts: {},\n      view: new RosGraphView(),\n      rosGraph: new RosGraph.RosGraph(),\n      url: \"ws://localhost:9090\",\n      widgets: [],\n      connected: false\n    };\n    this.ros = null;\n\n    this.updateRosGraph = () => {\n      RosGraph.GetRosGraph(this.ros).then(result => this.setState({\n        rosGraph: result\n      }));\n    };\n\n    this.setNodeActive = (treeNode, toggled = true) => {\n      this.setState({\n        view: this.state.view.setNodeActive(treeNode, toggled, this.state.rosGraph)\n      });\n    };\n\n    this.addWidget = (id, element) => {\n      console.log(\"Adding: \", id, element);\n      this.setState(prevState => ({\n        widgets: [...prevState.widgets, {\n          id: id,\n          element: element\n        }]\n      }));\n    };\n\n    this.removeWidget = id => {\n      console.log(\"Removing: \", id);\n      const widgets = this.state.widgets.filter(item => {\n        return item.id !== id;\n      });\n      this.setState({\n        widgets: widgets\n      });\n    };\n\n    this.hideItem = (path, type) => {\n      this.setState({\n        view: this.state.view.hideItem(path, type)\n      });\n    };\n\n    this.handleSearch = event => {\n      this.setState({\n        view: this.state.view.searchFor(event.target.value)\n      });\n    };\n\n    this.handleSearchKey = event => {// if (event.keyCode === 27) {\n      //   this.setState({\n      //     view: this.state.view.searchFor(\"\"),\n      //   })\n      // }\n    };\n\n    this.ros = new ROSLIB.Ros({\n      url: this.state.url\n    });\n    this.updateRosGraph();\n  }\n\n  render() {\n    var x = \"\";\n\n    if (this.state.connected) {\n      console.log('Menu Principal');\n      x = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Roboboat, {\n        ros: this.ros,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }));\n    } else {\n      x = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Graph\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Sidebar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        id: \"ROSID\",\n        className: \"graph_column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"button\",\n        id: \"button-2\",\n        onClick: () => {\n          this.setState({\n            connected: this.state.connected = true\n          });\n          console.log(\"menu principal\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"slide\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, \"Menu!\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ButtonPanel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Sidebar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: 5,\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"InputTextBox\",\n        onChange: this.handleSearch,\n        onKeyDown: this.handleSearchKey,\n        placeholder: \"Search...\",\n        value: this.state.view.search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(NodeList, {\n        name: \"Node List\",\n        nodes: this.state.rosGraph.nodes,\n        view: this.state.view,\n        setNodeActive: this.setNodeActive,\n        type: \"node\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(NodeList, {\n        name: \"Topic List\",\n        nodes: this.state.rosGraph.topics,\n        view: this.state.view,\n        setNodeActive: this.setNodeActive,\n        type: \"topic\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 19\n        }\n      }), this.state.view.active ? /*#__PURE__*/React.createElement(ButtonPanel, {\n        ros: this.ros,\n        addWidget: this.addWidget,\n        removeWidget: this.removeWidget,\n        hideItem: this.hideItem,\n        node: this.state.view.active,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 45\n        }\n      }) : false)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Graph-main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(NodeGraph, {\n        key: \"node_graph\",\n        rosGraph: this.state.rosGraph,\n        view: this.state.view,\n        setNodeActive: this.setNodeActive,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ButtonPanel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        \"data-tip\": \"Refresh the entire ros graph\",\n        className: \"SmallButton ColorOne\",\n        onClick: this.updateRosGraph,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, \"Refresh\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"SmallButton ColorTwo\",\n        onClick: () => {\n          this.setState({\n            view: this.state.view.toggleDebug()\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, this.state.view.hideDebug ? \"Show Debug\" : \"Hide Debug\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"SmallButton ColorOne\",\n        onClick: () => {\n          this.setState({\n            view: this.state.view.unhideItems()\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, \"Unhide\"))), this.state.widgets.length ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Sidebar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 40\n        }\n      }, this.state.widgets.map(widget => widget.element)) : false);\n    }\n\n    return x;\n  }\n\n}\n\nexport default Rosgraph;","map":{"version":3,"sources":["/home/edison/react_projects/ros-app/src/components/ros-graph.js"],"names":["React","ROSLIB","RosGraph","NodeGraph","ButtonPanel","RosGraphView","NodeList","Roboboat","Rosgraph","Component","constructor","props","state","autoExpand","layouts","view","rosGraph","url","widgets","connected","ros","updateRosGraph","GetRosGraph","then","result","setState","setNodeActive","treeNode","toggled","addWidget","id","element","console","log","prevState","removeWidget","filter","item","hideItem","path","type","handleSearch","event","searchFor","target","value","handleSearchKey","Ros","render","x","padding","display","search","nodes","topics","active","toggleDebug","hideDebug","unhideItems","length","map","widget"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport ROSLIB from 'roslib';\nimport * as RosGraph from './../lib/RosGraph';\nimport NodeGraph from './ros-graph/NodeGraph';\nimport ButtonPanel from './ros-graph/ButtonPanel';\nimport RosGraphView from './../lib/RosGraphView';\nimport NodeList from './ros-graph/NodeList';\nimport Roboboat from './Roboboat'\n//import \"../../node_modules/react-grid-layout/css/styles.css\";\n//import \"../node_modules/react-resizable/css/styles.css\";\nimport './../styles/Rosgraph.css';\n\n//Cuando se activa funcion en App.js, se utiliza funcion Props para tomar el valor de ROS\n\ntype WidgetType = {\n  element: React.Element<any>,\n  id: string,\n}\ntype TreeNode = {\n  name: string,\n  path: string,\n  type: RosGraph.PrimitiveType,\n}\n\ntype State = {\n  autoExpand: boolean,\n  layouts: ?Object,\n  rosGraph: RosGraph.RosGraph,\n  view: RosGraphView,\n  widgets: Array<WidgetType>,\n  rosGraph: RosGraph.RosGraph,\n}\n\n\nclass Rosgraph extends React.Component<Props, State> {\n    state = {\n      autoExpand: true,\n      layouts: {},\n      view: new RosGraphView(),\n      rosGraph: new RosGraph.RosGraph(),\n      url: \"ws://localhost:9090\",\n      widgets: [],\n      connected: false,\n    }\n    ros = null\n    \n    constructor(props: Props) {\n      super(props);\n      this.ros = new ROSLIB.Ros({\n        url : this.state.url,\n      })\n      this.updateRosGraph()\n  }\n    updateRosGraph = () => {\n      RosGraph.GetRosGraph(this.ros)\n        .then(result => this.setState({\n          rosGraph: result,\n        }))\n    }\n    \n\n    /**\n     * @param treeNode.name {string} Node's label\n     * @param treeNode.path {string} Node's unique identifier\n     * @param treeNode.type {string} \"node\" or \"topic\" (TODO: move to enum)\n     * @param toggled {boolean} True if the node should be expanded\n     */\n    setNodeActive = (treeNode: TreeNode, toggled: boolean = true) => {\n      this.setState({\n        view: this.state.view.setNodeActive(treeNode, toggled, this.state.rosGraph)\n      })\n    }\n        /**\n     * @param id {string} Unique identifier of the new widget\n     * @param element {React.Node} The react component to add to the window\n     * @param name {string} The label to give the widget\n     */\n    addWidget = (id: string, element: React.Element<any>) => {\n      console.log(\"Adding: \", id, element)\n\n      this.setState(prevState => ({\n        widgets: [...prevState.widgets, {\n          id: id,\n          element: element\n        }],\n      }));\n    }\n    removeWidget = (id: string) => {\n      console.log(\"Removing: \", id)\n  \n      const widgets = this.state.widgets.filter((item)=>{\n        return item.id !== id;\n      });\n  \n      this.setState({\n        widgets: widgets,\n      })\n    }\n    \n    hideItem = (path: string, type: string) => {\n      this.setState({view: this.state.view.hideItem(path, type)})\n    }\n    handleSearch = (event: {target: {value: string}}) => {\n      this.setState({\n        view: this.state.view.searchFor(event.target.value),\n      })\n    }\n    handleSearchKey = (event: {keyCode: string}) => {\n      // if (event.keyCode === 27) {\n      //   this.setState({\n      //     view: this.state.view.searchFor(\"\"),\n      //   })\n      // }\n    }\n\n  \n  render() {\n    var x = \"\";\n    if (this.state.connected) {\n        console.log('Menu Principal')\n        x = (\n          <div className=\"App\">\n            <Roboboat ros={this.ros} />\n          </div> \n      );\n    } else {\n        x = (\n          <div className=\"Graph\">\n          <div className=\"Sidebar\">\n            <h4 id=\"ROSID\" className=\"graph_column\">\n              <div class=\"button\" id=\"button-2\" onClick={() => {\n                    this.setState({\n                        connected: this.state.connected=true,\n    \n                      })\n                      console.log(\"menu principal\");\n                  }}>\n                <div id=\"slide\"></div>\n                <h4>Menu!</h4>\n              </div>\n              <div className=\"ButtonPanel\">\n                <div className=\"Sidebar\"> \n                  <div style={{padding: 5, display: \"flex\"}}>\n                  <input type=\"text\" className=\"InputTextBox\" onChange={this.handleSearch} onKeyDown={this.handleSearchKey} placeholder=\"Search...\" value={this.state.view.search}/>\n                  </div>\n                  <NodeList name=\"Node List\" nodes={this.state.rosGraph.nodes} view={this.state.view} setNodeActive={this.setNodeActive} type=\"node\"/>\n                  <NodeList name=\"Topic List\" nodes={this.state.rosGraph.topics} view={this.state.view} setNodeActive={this.setNodeActive} type=\"topic\"/>\n                  {this.state.view.active ? <ButtonPanel ros={this.ros} addWidget={this.addWidget} removeWidget={this.removeWidget} hideItem={this.hideItem} node={this.state.view.active} /> : false}\n                </div>  \n              </div>\n            </h4>\n          </div>\n          <div className=\"Graph-main\">\n              <NodeGraph key={\"node_graph\"} rosGraph={this.state.rosGraph} view={this.state.view} setNodeActive={this.setNodeActive}/>\n              <div className=\"ButtonPanel\">\n                <div data-tip=\"Refresh the entire ros graph\" className=\"SmallButton ColorOne\" onClick={this.updateRosGraph}>\n                    Refresh\n                </div>\n                <div className=\"SmallButton ColorTwo\" onClick={() => {\n                    this.setState({\n                        view: this.state.view.toggleDebug(),\n                      })\n                  }}>\n                  {this.state.view.hideDebug ? \"Show Debug\" : \"Hide Debug\"}\n                </div>\n                <div className=\"SmallButton ColorOne\" onClick={() => {\n                    this.setState({\n                        view: this.state.view.unhideItems(),\n                      })\n                  }}>\n                  Unhide\n                </div>\n              </div>\n            </div>\n          {this.state.widgets.length ? <div className=\"Sidebar\">{this.state.widgets.map(widget => widget.element)}</div> : false}\n        </div>\n\n        );\n    }\n\n    return x;\n  }\n}\nexport default Rosgraph;\n"]},"metadata":{},"sourceType":"module"}