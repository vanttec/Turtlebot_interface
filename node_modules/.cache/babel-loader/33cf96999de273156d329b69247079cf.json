{"ast":null,"code":"var _jsxFileName = \"/home/edison/react_projects/ros-app/src/components/ros-graph.js\";\nimport * as React from 'react';\nimport ROSLIB from 'roslib';\nimport * as RosGraph from './../lib/RosGraph';\nimport ButtonPanel from './ros-graph/ButtonPanel';\nimport RosGraphView from './../lib/RosGraphView';\nimport NodeList from './ros-graph/NodeList'; //import \"../../node_modules/react-grid-layout/css/styles.css\";\n//import \"../node_modules/react-resizable/css/styles.css\";\n\nimport './../styles/Rosgraph.css'; //Cuando se activa funcion en App.js, se utiliza funcion Props para tomar el valor de ROS\n\nclass Rosgraph extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      autoExpand: true,\n      layouts: {},\n      view: new RosGraphView(),\n      rosGraph: new RosGraph.RosGraph()\n    };\n\n    this.setNodeActive = (treeNode, toggled = true) => {\n      this.setState({\n        view: this.state.view.setNodeActive(treeNode, toggled, this.state.rosGraph)\n      });\n    };\n\n    this.addWidget = (id, element) => {\n      console.log(\"Adding: \", id, element);\n      this.setState(prevState => ({\n        widgets: [...prevState.widgets, {\n          id: id,\n          element: element\n        }]\n      }));\n    };\n\n    this.removeWidget = id => {\n      console.log(\"Removing: \", id);\n      const widgets = this.state.widgets.filter(item => {\n        return item.id !== id;\n      });\n      this.setState({\n        widgets: widgets\n      });\n    };\n\n    this.hideItem = (path, type) => {\n      this.setState({\n        view: this.state.view.hideItem(path, type)\n      });\n    };\n\n    this.handleSearch = event => {\n      this.setState({\n        view: this.state.view.searchFor(event.target.value)\n      });\n    };\n\n    this.handleSearchKey = event => {// if (event.keyCode === 27) {\n      //   this.setState({\n      //     view: this.state.view.searchFor(\"\"),\n      //   })\n      // }\n    };\n  }\n\n  render() {\n    console.log(\"Graph\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Graph\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      id: \"ROSID\",\n      className: \"graph_column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, \"Hola mundo\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ButtonPanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SmallButton ColorOne\",\n      onClick: this.publish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Publish\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"SmallButton ColorTwo\",\n      onClick: this.toggleRepeat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Subscribe\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Button \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 5,\n        display: \"flex\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"InputTextBox\",\n      onChange: this.handleSearch,\n      onKeyDown: this.handleSearchKey,\n      placeholder: \"Search...\",\n      value: this.state.view.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(NodeList, {\n      name: \"Topic List\",\n      nodes: this.state.rosGraph.topics,\n      view: this.state.view,\n      setNodeActive: this.setNodeActive,\n      type: \"topic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }), this.state.view.active ? /*#__PURE__*/React.createElement(ButtonPanel, {\n      ros: this.props.ros,\n      addWidget: this.addWidget,\n      removeWidget: this.removeWidget,\n      hideItem: this.hideItem,\n      node: this.state.view.active,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 41\n      }\n    }) : false)))));\n  }\n\n}\n\nexport default Rosgraph;","map":{"version":3,"sources":["/home/edison/react_projects/ros-app/src/components/ros-graph.js"],"names":["React","ROSLIB","RosGraph","ButtonPanel","RosGraphView","NodeList","Rosgraph","Component","state","autoExpand","layouts","view","rosGraph","setNodeActive","treeNode","toggled","setState","addWidget","id","element","console","log","prevState","widgets","removeWidget","filter","item","hideItem","path","type","handleSearch","event","searchFor","target","value","handleSearchKey","render","publish","toggleRepeat","padding","display","search","topics","active","props","ros"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport ROSLIB from 'roslib';\nimport * as RosGraph from './../lib/RosGraph';\nimport ButtonPanel from './ros-graph/ButtonPanel';\nimport RosGraphView from './../lib/RosGraphView';\nimport NodeList from './ros-graph/NodeList';\n//import \"../../node_modules/react-grid-layout/css/styles.css\";\n//import \"../node_modules/react-resizable/css/styles.css\";\nimport './../styles/Rosgraph.css';\n\n//Cuando se activa funcion en App.js, se utiliza funcion Props para tomar el valor de ROS\ntype Props = {\n  ros: ROSLIB.Ros,\n}\n\ntype WidgetType = {\n  element: React.Element<any>,\n  id: string,\n}\ntype TreeNode = {\n  name: string,\n  path: string,\n  type: RosGraph.PrimitiveType,\n}\n\ntype State = {\n  autoExpand: boolean,\n  layouts: ?Object,\n  rosGraph: RosGraph.RosGraph,\n  view: RosGraphView,\n  widgets: Array<WidgetType>,\n  rosGraph: RosGraph.RosGraph,\n}\n\n\nclass Rosgraph extends React.Component<Props, State> {\n    state = {\n      autoExpand: true,\n      layouts: {},\n      view: new RosGraphView(),\n      rosGraph: new RosGraph.RosGraph(),\n    }\n\n    \n\n    /**\n     * @param treeNode.name {string} Node's label\n     * @param treeNode.path {string} Node's unique identifier\n     * @param treeNode.type {string} \"node\" or \"topic\" (TODO: move to enum)\n     * @param toggled {boolean} True if the node should be expanded\n     */\n    setNodeActive = (treeNode: TreeNode, toggled: boolean = true) => {\n      this.setState({\n        view: this.state.view.setNodeActive(treeNode, toggled, this.state.rosGraph)\n      })\n    }\n    addWidget = (id: string, element: React.Element<any>) => {\n      console.log(\"Adding: \", id, element)\n\n      this.setState(prevState => ({\n        widgets: [...prevState.widgets, {\n          id: id,\n          element: element\n        }],\n      }));\n    }\n    removeWidget = (id: string) => {\n      console.log(\"Removing: \", id)\n  \n      const widgets = this.state.widgets.filter((item)=>{\n        return item.id !== id;\n      });\n  \n      this.setState({\n        widgets: widgets,\n      })\n    }\n    \n    hideItem = (path: string, type: string) => {\n      this.setState({view: this.state.view.hideItem(path, type)})\n    }\n    handleSearch = (event: {target: {value: string}}) => {\n      this.setState({\n        view: this.state.view.searchFor(event.target.value),\n      })\n    }\n    handleSearchKey = (event: {keyCode: string}) => {\n      // if (event.keyCode === 27) {\n      //   this.setState({\n      //     view: this.state.view.searchFor(\"\"),\n      //   })\n      // }\n    }\n  render() {\n    console.log(\"Graph\");\n    return (\n      \n      <div className=\"Graph\">\n        <div className=\"Sidebar\">\n        <h4 id=\"ROSID\" className=\"graph_column\">\n          Hola mundo\n          <div className=\"ButtonPanel\">\n              <div className=\"SmallButton ColorOne\" onClick={this.publish}>\n                Publish\n              </div>\n              <div className=\"SmallButton ColorTwo\" onClick={this.toggleRepeat}>\n              Subscribe\n              </div>\n            <div className=\"Button \">\n              <div style={{padding: 5, display: \"flex\"}}>\n              <input type=\"text\" className=\"InputTextBox\" onChange={this.handleSearch} onKeyDown={this.handleSearchKey} placeholder=\"Search...\" value={this.state.view.search}/>\n              </div>\n              <NodeList name=\"Topic List\" nodes={this.state.rosGraph.topics} view={this.state.view} setNodeActive={this.setNodeActive} type=\"topic\"/>\n              {this.state.view.active ? <ButtonPanel ros={this.props.ros} addWidget={this.addWidget} removeWidget={this.removeWidget} hideItem={this.hideItem} node={this.state.view.active} /> : false}\n            </div>  \n          </div>\n        </h4>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default Rosgraph;\n"]},"metadata":{},"sourceType":"module"}